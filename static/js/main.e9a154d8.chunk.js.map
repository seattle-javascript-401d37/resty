{"version":3,"sources":["images/loading.gif","components/header.js","components/form.js","components/if/index.js","components/results.js","components/history-sidebar.js","pages/home.js","pages/help.js","pages/history.js","App.js","index.js"],"names":["module","exports","Header","props","to","Form","changeURL","e","url","target","value","setState","request","state","changeMethod","method","changeBody","body","JSON","parse","handleSubmit","a","preventDefault","handler","formRef","React","createRef","nextProps","this","document","getElementById","reset","id","ref","onSubmit","type","name","defaultValue","placeholder","onChange","className","onClick","data","Component","render","condition","children","If","Children","map","child","cloneElement","Then","Else","When","Results","loading","src","alt","results","headers","withRouter","Object","keys","calls","key","apiCall","history","push","App","toggleLoading","updateResults","updateRequest","console","log","fetchResults","axios","response","updateHistory","options","hash","md5","stringify","localStorage","setItem","getItem","role","Help","History","showRequest","exact","path","Main","rootElement","ReactDOM"],"mappings":"gFAAAA,EAAOC,QAAU,0M,gLCkBFC,EAfA,SAAAC,GACb,OACE,gCACE,qCACA,6BACE,4BACE,4BAAI,kBAAC,IAAD,CAASC,GAAG,KAAZ,SACJ,4BAAI,kBAAC,IAAD,CAASA,GAAG,YAAZ,YACJ,4BAAI,kBAAC,IAAD,CAASA,GAAG,SAAZ,a,2EC4ECC,E,kDAnFb,WAAYF,GAAQ,IAAD,8BACjB,cAAMA,IAKRG,UAAY,SAACC,GACX,IAAIC,EAAMD,EAAEE,OAAOC,MACnB,EAAKC,SAAS,CAAEC,QAAQ,2BAAM,EAAKC,MAAMD,SAAlB,IAA2BJ,WARjC,EAWnBM,aAAe,SAACC,GACd,EAAKJ,SAAS,CAAEC,QAAQ,2BAAM,EAAKC,MAAMD,SAAlB,IAA2BG,cAZjC,EAenBC,WAAa,SAACT,GACZ,IACE,IAAIU,EAAOC,KAAKC,MAAMZ,EAAEE,OAAOC,OAC/B,EAAKC,SAAS,CAAEC,QAAQ,2BAAM,EAAKC,MAAMD,SAAlB,IAA2BK,WAClD,MAAOV,MAnBQ,EAsBnBa,aAtBmB,uCAsBJ,WAAMb,GAAN,SAAAc,EAAA,sDACbd,EAAEe,iBACF,EAAKnB,MAAMoB,QAAQ,EAAKV,MAAMD,SAFjB,2CAtBI,sDAEjB,EAAKC,MAAQ,CAAED,QAAS,IACxB,EAAKY,QAAUC,IAAMC,YAHJ,E,6EA+BcC,GAC/B,IAAInB,EAAKO,EAAQE,EACbU,EAAUf,QAAQJ,MAAQoB,KAAKzB,MAAMS,QAAQJ,MAAOA,EAAMmB,EAAUf,QAAQJ,KAC5EmB,EAAUf,QAAQG,SAAWa,KAAKzB,MAAMS,QAAQG,SAAUA,EAASY,EAAUf,QAAQG,QACrFY,EAAUf,QAAQK,OAASW,KAAKzB,MAAMS,QAAQK,OAAQA,EAAOU,EAAUf,QAAQK,OAC/ET,GAAOO,GAAUE,KAInBY,SAASC,eAAe,OAAOC,QAE/BH,KAAKjB,SAAS,CAAEC,QAAQ,2BAAMgB,KAAKf,MAAMD,SAAlB,IAA2BG,SAAQP,MAAKS,c,+BAMzD,IAAD,OACP,OACE,0BAAMe,GAAG,MAAMC,IAAKL,KAAKJ,QAASU,SAAUN,KAAKR,cAC/C,6BACE,2BACEe,KAAK,OACLC,KAAK,MACLC,aAAcT,KAAKf,MAAMD,QAAQJ,IACjC8B,YAAY,sBACZC,SAAUX,KAAKtB,YAEjB,wCAEF,yBAAKkC,UAAU,WACb,0BAAMA,UAAS,iBAA0C,QAA9BZ,KAAKf,MAAMD,QAAQG,QAAoB0B,QAAS,kBAAM,EAAK3B,aAAa,SAAnG,OAGA,0BAAM0B,UAAS,iBAA0C,SAA9BZ,KAAKf,MAAMD,QAAQG,QAAqB0B,QAAS,kBAAM,EAAK3B,aAAa,UAApG,QAGA,0BAAM0B,UAAS,iBAA0C,QAA9BZ,KAAKf,MAAMD,QAAQG,QAAoB0B,QAAS,kBAAM,EAAK3B,aAAa,SAAnG,OAGA,0BAAM0B,UAAS,iBAA0C,WAA9BZ,KAAKf,MAAMD,QAAQG,QAAuB0B,QAAS,kBAAM,EAAK3B,aAAa,YAAtG,UAIA,8BAAUsB,KAAK,OAAOG,SAAUX,KAAKZ,WAAYqB,aAAcT,KAAKf,MAAMD,QAAQ8B,a,GA7EzEjB,IAAMkB,WCAnBC,EAAS,WAAyC,IAAxCC,EAAuC,wDAApBC,EAAoB,uDAAT,KAC5C,OAAOD,EAAYC,EAAW,MAGnBC,EAAK,SAAA5C,GAAK,OACrBsB,IAAMuB,SAASC,IAAI9C,EAAM2C,UAAU,SAAAI,GAAK,OACtCzB,IAAM0B,aAAaD,EAAO,CAAEL,UAAW1C,EAAM0C,gBAGpCO,EAAO,SAAAjD,GAAK,OAAIyC,EAAOzC,EAAM0C,UAAW1C,EAAM2C,WAC9CO,EAAO,SAAAlD,GAAK,OAAIyC,GAAQzC,EAAM0C,UAAW1C,EAAM2C,WAC/CQ,EAAO,SAAAnD,GAAK,OAAIyC,EAAOzC,EAAM0C,UAAW1C,EAAM2C,W,kCCkB5CS,EAxBC,SAACpD,GAEf,OACE,6BAASqC,UAAU,WACjB,kBAAC,EAAD,CAAIK,UAAW1C,EAAMqD,SACnB,kBAACJ,EAAD,KACE,yBAAKZ,UAAU,WACb,yBAAKiB,IAAKD,IAASE,IAAI,cAG3B,kBAACL,EAAD,KACE,kBAACC,EAAD,CAAMT,UAAW1C,EAAMwD,SACrB,uCACA,kBAAC,IAAD,CAAWF,IAAKtD,EAAMyD,UACtB,uCACA,kBAAC,IAAD,CAAWH,IAAKtD,EAAMwD,eCInBE,mBAvBf,SAAiB1D,GAOf,OACE,2BAAOqC,UAAU,WACf,4BAEIsB,OAAOC,KAAK5D,EAAM6D,OAAOf,KAAI,SAAAgB,GAAG,OAC9B,wBAAIA,IAAKA,GACP,0BAAMzB,UAAS,iBAAYrC,EAAM6D,MAAMC,GAAKlD,SAAWZ,EAAM6D,MAAMC,GAAKlD,QACxE,4BAAQyB,UAAU,MAAMC,QAAS,kBAZxByB,EAY0C/D,EAAM6D,MAAMC,GAXzE9D,EAAMoB,QAAQ2C,QACd/D,EAAMgE,QAAQC,KAAK,KAFrB,IAAqBF,IAY8D/D,EAAM6D,MAAMC,GAAKzD,cCmEvF6D,E,kDA3Eb,WAAYlE,GAAQ,IAAD,8BACjB,cAAMA,IASRmE,cAAgB,WACd,EAAK3D,SAAS,CAAE6C,SAAU,EAAK3C,MAAM2C,WAXpB,EAqBnBe,cAAgB,SAACX,EAASD,GACxB,EAAKhD,SAAS,CAAEiD,UAASD,aAtBR,EAyBnBa,cAAgB,SAAC5D,GACf6D,QAAQC,IAAI,SAAU9D,GACtB,EAAKD,SAAS,CAAEC,aA3BC,EA8BnB+D,aA9BmB,uCA8BJ,WAAO/D,GAAP,eAAAS,EAAA,sEAIX,EAAKiD,gBAGA1D,EAAQG,SAAUH,EAAQG,OAAS,OAExC,EAAKyD,cAAc5D,GAEnB6D,QAAQC,IAAI,UAAW9D,GAXZ,SAYUgE,IAAMhE,GAZhB,OAYPiE,EAZO,OAcX,EAAKP,gBAEL1D,EAAQ8B,KAAOmC,EAASnC,KACxB,EAAKoC,cAAclE,GACnB,EAAK2D,cAAcM,EAASjB,QAASiB,EAASnC,MAlBnC,kDAsBX+B,QAAQC,IAAR,MAtBW,0DA9BI,sDAEjBD,QAAQC,IAAIvE,GACZ,EAAKU,MAAQ,CACX2C,SAAS,EACT5C,QAAS,GACTuD,QAAS,IANM,E,0DAcLY,GAAU,IAAD,OACjBC,EAAOC,IAAI/D,KAAKgE,UAAUH,IAC9BnD,KAAKjB,SAAS,CAAEwD,QAAQ,2BAAMvC,KAAKf,MAAMsD,SAAlB,kBAA4Ba,EAAOD,MAAa,WACrEI,aAAaC,QAAQ,UAAWlE,KAAKgE,UAAU,EAAKrE,MAAMsD,e,0CAwC5D,IAAIA,EAAUjD,KAAKC,MAAMgE,aAAaE,QAAQ,YAC9ClB,GAAWvC,KAAKjB,SAAS,CAAEwD,c,+BAK3B,OADAM,QAAQC,IAAI,SAAU9C,KAAKf,MAAMD,SAE/B,yBAAK0E,KAAK,YACR,kBAAC,EAAD,CAAM1E,QAASgB,KAAKf,MAAMD,QAASW,QAASK,KAAK+C,eACjD,8BACE,kBAAC,EAAD,CAASpD,QAASK,KAAK4C,cAAeR,MAAOpC,KAAKf,MAAMsD,UACxD,kBAAC,EAAD,CAASX,QAAS5B,KAAKf,MAAM2C,QAASI,QAAShC,KAAKf,MAAM+C,QAASD,QAAS/B,KAAKf,MAAM8C,gB,GArE/ElC,IAAMkB,WCKT4C,E,uKARX,OACE,oD,GAJa9D,IAAMkB,WC+CV6C,E,kDA7Cb,WAAYrF,GAAQ,IAAD,8BACjB,cAAMA,IACDU,MAAQ,CACXsD,QAAS,GACTzB,KAAM,MAJS,E,wDAQPuB,GACV,IAAIvB,EAAOd,KAAKf,MAAMsD,QAAQF,GAAKvB,KACnCd,KAAKjB,SAAS,CAAE+B,W,0CAIhB,IAAIyB,EAAUjD,KAAKC,MAAMgE,aAAaE,QAAQ,YAC9ClB,GAAWvC,KAAKjB,SAAS,CAAEwD,YAC3BM,QAAQC,IAAIP,K,+BAGJ,IAAD,OACP,OACE,8BACE,6BAAS3B,UAAU,eACjB,+BAEIsB,OAAOC,KAAKnC,KAAKf,MAAMsD,SAASlB,KAAI,SAAAgB,GAAG,OACrC,yBAAKA,IAAKA,EACRzB,UAAU,MACVC,QAAS,kBAAM,EAAKgD,YAAYxB,KAC/B,EAAKpD,MAAMsD,QAAQF,GAAKlD,OAH3B,MAGsC,EAAKF,MAAMsD,QAAQF,GAAKzD,SAKpE,iCACE,kBAAC8C,EAAD,CAAMT,YAAajB,KAAKf,MAAM6B,MAC5B,kBAAC,IAAD,CAAWe,IAAK7B,KAAKf,MAAM6B,e,GArCnBjB,IAAMkB,WCsBb0B,G,6KAbX,OACE,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOqB,OAAK,EAACC,KAAK,KAAI,kBAAC,EAAD,OACtB,kBAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,YAAW,kBAAC,EAAD,OAC7B,kBAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,SAAQ,kBAAC,EAAD,a,GARlBlE,IAAMkB,YCJlBiD,E,uKAEF,OACE,kBAAC,IAAD,KACE,kBAAC,EAAD,W,GAJWnE,IAAMkB,WAUnBkD,EAAchE,SAASC,eAAe,QAC5CgE,IAASlD,OAAO,kBAAC,EAAD,MAAUiD,K","file":"static/js/main.e9a154d8.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,dmVyc2lvbiBodHRwczovL2dpdC1sZnMuZ2l0aHViLmNvbS9zcGVjL3YxCm9pZCBzaGEyNTY6NDU0MjQwY2Y2NzBiMTI3NjBiMjkyZTIxZTgzMWExYTAzNzJjYTliNDNhNjg0OTM5MmE0MTZjODAzYzcyZGYxOApzaXplIDcwNzM0Cg==\"","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = props => {\n  return (\n    <header>\n      <h1>RESTy</h1>\n      <nav>\n        <ul>\n          <li><NavLink to=\"/\">Home</NavLink></li>\n          <li><NavLink to=\"/history\">History</NavLink></li>\n          <li><NavLink to=\"/help\">Help</NavLink></li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nclass Form extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { request: {} }\n    this.formRef = React.createRef();\n  }\n\n  changeURL = (e) => {\n    let url = e.target.value;\n    this.setState({ request: { ...this.state.request, url } })\n  };\n\n  changeMethod = (method) => {\n    this.setState({ request: { ...this.state.request, method } })\n  };\n\n  changeBody = (e) => {\n    try {\n      let body = JSON.parse(e.target.value);\n      this.setState({ request: { ...this.state.request, body } })\n    } catch (e) { }\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault();\n    this.props.handler(this.state.request);\n  };\n\n  // We need to do some special things with state, based on changed props\n  // This can be mitigated if we don't have the form as a separate component ... or\n  // If we used a 3rd party form that's designed to redraw itself ... or\n  // Or in a functional component with hooks (which we've not taught on yet)\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    let url, method, body;\n    if (nextProps.request.url !== this.props.request.url) { url = nextProps.request.url }\n    if (nextProps.request.method !== this.props.request.method) { method = nextProps.request.method }\n    if (nextProps.request.body !== this.props.request.body) { body = nextProps.request.body }\n    if (url || method || body) {\n      // Reset the form\n      // this.formRef.reset(); // Would be great if a reference was able to be controlled in this way\n      // But, we'll instead have to do it old school, directly\n      document.getElementById('api').reset();\n      // Reset the state\n      this.setState({ request: { ...this.state.request, method, url, body } })\n    }\n  }\n\n\n\n  render() {\n    return (\n      <form id=\"api\" ref={this.formRef} onSubmit={this.handleSubmit}>\n        <div>\n          <input\n            type=\"text\"\n            name=\"url\"\n            defaultValue={this.state.request.url}\n            placeholder=\"http://api.url.here\"\n            onChange={this.changeURL}\n          />\n          <button>GO!</button>\n        </div>\n        <div className=\"methods\">\n          <span className={`method ${this.state.request.method === 'get'}`} onClick={() => this.changeMethod('get')}>\n            GET\n          </span>\n          <span className={`method ${this.state.request.method === 'post'}`} onClick={() => this.changeMethod('post')}>\n            POST\n          </span>\n          <span className={`method ${this.state.request.method === 'put'}`} onClick={() => this.changeMethod('put')}>\n            PUT\n          </span>\n          <span className={`method ${this.state.request.method === 'delete'}`} onClick={() => this.changeMethod('delete')}>\n            DELETE\n          </span>\n\n          <textarea name=\"data\" onChange={this.changeBody} defaultValue={this.state.request.data} />\n\n        </div>\n      </form >\n    );\n  }\n}\n\nexport default Form;\n","import React from 'react';\n\nconst render = (condition = false, children = null) => {\n  return condition ? children : null;\n};\n\nexport const If = props =>\n  React.Children.map(props.children, child =>\n    React.cloneElement(child, { condition: props.condition })\n  );\n\nexport const Then = props => render(props.condition, props.children);\nexport const Else = props => render(!props.condition, props.children);\nexport const When = props => render(props.condition, props.children);\nexport const Unless = props => render(!props.condition, props.children);\n","import React from 'react';\n\nimport { If, Then, Else, When } from './if';\nimport ReactJson from 'react-json-view';\n\nimport loading from '../images/loading.gif';\n\nconst Results = (props) => {\n\n  return (\n    <section className=\"results\">\n      <If condition={props.loading}>\n        <Then>\n          <div className=\"loading\">\n            <img src={loading} alt=\"Loading\" />\n          </div>\n        </Then>\n        <Else>\n          <When condition={props.results}>\n            <h2>Headers</h2>\n            <ReactJson src={props.headers} />\n            <h2>Results</h2>\n            <ReactJson src={props.results} />\n          </When>\n        </Else>\n      </If>\n    </section>\n  );\n\n};\n\nexport default Results;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction History(props) {\n\n  function loadRequest(apiCall) {\n    props.handler(apiCall);\n    props.history.push('/');\n  }\n\n  return (\n    <aside className=\"history\">\n      <ul>\n        {\n          Object.keys(props.calls).map(key =>\n            <li key={key}>\n              <span className={`method ${props.calls[key].method}`}>{props.calls[key].method}</span>\n              <button className=\"url\" onClick={() => loadRequest(props.calls[key])}>{props.calls[key].url}</button>\n            </li>,\n          )\n        }\n      </ul>\n    </aside>\n  );\n}\n\nexport default withRouter(History);\n","import React from 'react';\nimport md5 from 'md5';\nimport axios from 'axios';\n\nimport Form from '../components/form.js';\nimport Results from '../components/results.js';\nimport History from '../components/history-sidebar.js';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(props);\n    this.state = {\n      loading: false,\n      request: {},\n      history: {},\n    };\n  }\n\n  toggleLoading = () => {\n    this.setState({ loading: !this.state.loading });\n  }\n\n  updateHistory(options) {\n    let hash = md5(JSON.stringify(options));\n    this.setState({ history: { ...this.state.history, [hash]: options } }, () => {\n      localStorage.setItem('history', JSON.stringify(this.state.history));\n    });\n  }\n\n  updateResults = (headers, results) => {\n    this.setState({ headers, results });\n  };\n\n  updateRequest = (request) => {\n    console.log('update', request);\n    this.setState({ request });\n  }\n\n  fetchResults = async (request) => {\n\n    try {\n\n      this.toggleLoading();\n\n      // apply default\n      if (!request.method) { request.method = \"get\"; }\n\n      this.updateRequest(request);\n\n      console.log('running', request);\n      let response = await axios(request);\n\n      this.toggleLoading();\n\n      request.data = response.data;\n      this.updateHistory(request);\n      this.updateResults(response.headers, response.data);\n\n    }\n    catch (e) {\n      console.log(e);\n    }\n  }\n\n  componentDidMount() {\n    let history = JSON.parse(localStorage.getItem('history'));\n    history && this.setState({ history });\n  }\n\n  render() {\n    console.log('render', this.state.request);\n    return (\n      <div role=\"document\">\n        <Form request={this.state.request} handler={this.fetchResults} />\n        <main>\n          <History handler={this.updateRequest} calls={this.state.history} />\n          <Results loading={this.state.loading} headers={this.state.headers} results={this.state.results} />\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\n\nclass Help extends React.Component {\n\n  render() {\n    return (\n      <main>\n        Help Goes Here\n      </main>\n    );\n  }\n}\n\nexport default Help;\n","import React from 'react';\nimport ReactJson from 'react-json-view';\nimport { When } from '../components/if';\nclass History extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: {},\n      data: null\n    };\n  }\n\n  showRequest(key) {\n    let data = this.state.history[key].data;\n    this.setState({ data })\n  }\n\n  componentDidMount() {\n    let history = JSON.parse(localStorage.getItem('history'));\n    history && this.setState({ history });\n    console.log(history);\n  }\n\n  render() {\n    return (\n      <main>\n        <section className=\"historyPage\">\n          <aside>\n            {\n              Object.keys(this.state.history).map(key =>\n                <div key={key}\n                  className=\"url\"\n                  onClick={() => this.showRequest(key)}>\n                  {this.state.history[key].method} - {this.state.history[key].url}\n                </div>,\n              )\n            }\n          </aside>\n          <article>\n            <When condition={!!this.state.data}>\n              <ReactJson src={this.state.data} />\n            </When>\n          </article>\n        </section>\n      </main >\n    );\n  }\n}\n\nexport default History;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport Header from './components/header.js';\nimport Home from './pages/home.js';\nimport Help from './pages/help.js';\nimport History from './pages/history.js';\n\nimport './styles.scss';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\"><Home /></Route>\n          <Route exact path=\"/history\"><History /></Route>\n          <Route exact path=\"/help\"><Help /></Route>\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport App from './App.js';\n\nclass Main extends React.Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    );\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}