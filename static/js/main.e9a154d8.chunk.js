(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{37:function(e,t){e.exports="data:image/gif;base64,dmVyc2lvbiBodHRwczovL2dpdC1sZnMuZ2l0aHViLmNvbS9zcGVjL3YxCm9pZCBzaGEyNTY6NDU0MjQwY2Y2NzBiMTI3NjBiMjkyZTIxZTgzMWExYTAzNzJjYTliNDNhNjg0OTM5MmE0MTZjODAzYzcyZGYxOApzaXplIDcwNzM0Cg=="},38:function(e,t,a){e.exports=a(69)},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(7),l=a(9),c=a(8),s=a(0),o=a.n(s),u=a(33),i=a.n(u),h=a(12),m=a(1),d=function(e){return o.a.createElement("header",null,o.a.createElement("h1",null,"RESTy"),o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(h.b,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(h.b,{to:"/history"},"History")),o.a.createElement("li",null,o.a.createElement(h.b,{to:"/help"},"Help")))))},p=a(17),f=a(10),E=a(14),y=a.n(E),b=a(18),g=a(35),v=a.n(g),O=a(36),j=a.n(O),q=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).changeURL=function(e){var t=e.target.value;r.setState({request:Object(f.a)(Object(f.a)({},r.state.request),{},{url:t})})},r.changeMethod=function(e){r.setState({request:Object(f.a)(Object(f.a)({},r.state.request),{},{method:e})})},r.changeBody=function(e){try{var t=JSON.parse(e.target.value);r.setState({request:Object(f.a)(Object(f.a)({},r.state.request),{},{body:t})})}catch(e){}},r.handleSubmit=function(){var e=Object(b.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r.props.handler(r.state.request);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={request:{}},r.formRef=o.a.createRef(),r}return Object(r.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t,a,n;e.request.url!==this.props.request.url&&(t=e.request.url),e.request.method!==this.props.request.method&&(a=e.request.method),e.request.body!==this.props.request.body&&(n=e.request.body),(t||a||n)&&(document.getElementById("api").reset(),this.setState({request:Object(f.a)(Object(f.a)({},this.state.request),{},{method:a,url:t,body:n})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("form",{id:"api",ref:this.formRef,onSubmit:this.handleSubmit},o.a.createElement("div",null,o.a.createElement("input",{type:"text",name:"url",defaultValue:this.state.request.url,placeholder:"http://api.url.here",onChange:this.changeURL}),o.a.createElement("button",null,"GO!")),o.a.createElement("div",{className:"methods"},o.a.createElement("span",{className:"method ".concat("get"===this.state.request.method),onClick:function(){return e.changeMethod("get")}},"GET"),o.a.createElement("span",{className:"method ".concat("post"===this.state.request.method),onClick:function(){return e.changeMethod("post")}},"POST"),o.a.createElement("span",{className:"method ".concat("put"===this.state.request.method),onClick:function(){return e.changeMethod("put")}},"PUT"),o.a.createElement("span",{className:"method ".concat("delete"===this.state.request.method),onClick:function(){return e.changeMethod("delete")}},"DELETE"),o.a.createElement("textarea",{name:"data",onChange:this.changeBody,defaultValue:this.state.request.data})))}}]),a}(o.a.Component),N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t:null},k=function(e){return o.a.Children.map(e.children,(function(t){return o.a.cloneElement(t,{condition:e.condition})}))},S=function(e){return N(e.condition,e.children)},C=function(e){return N(!e.condition,e.children)},R=function(e){return N(e.condition,e.children)},M=a(16),x=a.n(M),T=a(37),w=a.n(T),z=function(e){return o.a.createElement("section",{className:"results"},o.a.createElement(k,{condition:e.loading},o.a.createElement(S,null,o.a.createElement("div",{className:"loading"},o.a.createElement("img",{src:w.a,alt:"Loading"}))),o.a.createElement(C,null,o.a.createElement(R,{condition:e.results},o.a.createElement("h2",null,"Headers"),o.a.createElement(x.a,{src:e.headers}),o.a.createElement("h2",null,"Results"),o.a.createElement(x.a,{src:e.results})))))};var H=Object(m.f)((function(e){return o.a.createElement("aside",{className:"history"},o.a.createElement("ul",null,Object.keys(e.calls).map((function(t){return o.a.createElement("li",{key:t},o.a.createElement("span",{className:"method ".concat(e.calls[t].method)},e.calls[t].method),o.a.createElement("button",{className:"url",onClick:function(){return a=e.calls[t],e.handler(a),void e.history.push("/");var a}},e.calls[t].url))}))))})),L=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).toggleLoading=function(){r.setState({loading:!r.state.loading})},r.updateResults=function(e,t){r.setState({headers:e,results:t})},r.updateRequest=function(e){console.log("update",e),r.setState({request:e})},r.fetchResults=function(){var e=Object(b.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.toggleLoading(),t.method||(t.method="get"),r.updateRequest(t),console.log("running",t),e.next=7,j()(t);case 7:a=e.sent,r.toggleLoading(),t.data=a.data,r.updateHistory(t),r.updateResults(a.headers,a.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),console.log(e),r.state={loading:!1,request:{},history:{}},r}return Object(r.a)(a,[{key:"updateHistory",value:function(e){var t=this,a=v()(JSON.stringify(e));this.setState({history:Object(f.a)(Object(f.a)({},this.state.history),{},Object(p.a)({},a,e))},(function(){localStorage.setItem("history",JSON.stringify(t.state.history))}))}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("history"));e&&this.setState({history:e})}},{key:"render",value:function(){return console.log("render",this.state.request),o.a.createElement("div",{role:"document"},o.a.createElement(q,{request:this.state.request,handler:this.fetchResults}),o.a.createElement("main",null,o.a.createElement(H,{handler:this.updateRequest,calls:this.state.history}),o.a.createElement(z,{loading:this.state.loading,headers:this.state.headers,results:this.state.results})))}}]),a}(o.a.Component),B=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("main",null,"Help Goes Here")}}]),a}(o.a.Component),D=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={history:{},data:null},r}return Object(r.a)(a,[{key:"showRequest",value:function(e){var t=this.state.history[e].data;this.setState({data:t})}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("history"));e&&this.setState({history:e}),console.log(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("main",null,o.a.createElement("section",{className:"historyPage"},o.a.createElement("aside",null,Object.keys(this.state.history).map((function(t){return o.a.createElement("div",{key:t,className:"url",onClick:function(){return e.showRequest(t)}},e.state.history[t].method," - ",e.state.history[t].url)}))),o.a.createElement("article",null,o.a.createElement(R,{condition:!!this.state.data},o.a.createElement(x.a,{src:this.state.data})))))}}]),a}(o.a.Component),I=(a(68),function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement(d,null),o.a.createElement(m.c,null,o.a.createElement(m.a,{exact:!0,path:"/"},o.a.createElement(L,null)),o.a.createElement(m.a,{exact:!0,path:"/history"},o.a.createElement(D,null)),o.a.createElement(m.a,{exact:!0,path:"/help"},o.a.createElement(B,null))))}}]),a}(o.a.Component)),J=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement(I,null))}}]),a}(o.a.Component),Y=document.getElementById("root");i.a.render(o.a.createElement(J,null),Y)}},[[38,1,2]]]);
//# sourceMappingURL=main.e9a154d8.chunk.js.map